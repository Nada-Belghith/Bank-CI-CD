<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
	<title layout:fragment="title">Ajouter un Compte</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
	<link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
	<link th:href="@{/css/jquery-ui.min.css}" rel="stylesheet">

</head>

<body>
	<div layout:fragment="content">
		<div class="container mt-4">
			<div class="d-flex justify-content-between align-items-center mb-4">
				<h1 class="text-warning"><i class="bi bi-wallet2"></i> Ajouter un Compte</h1>
				<a th:href="@{/comptes/all}" class="btn btn-secondary">
					<i class="bi bi-arrow-left"></i> Retour Ã  la liste
				</a>
			</div>

			<div class="card shadow-sm border-0 rounded-4">
				<div class="card-body">
					<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

					<form th:action="@{/comptes/save}" th:object="${compte}" method="post" class="needs-validation"
						novalidate>
						<div class="mb-3">
							<label for="solde" class="form-label">Solde</label>
							<input type="number" step="0.01" th:field="*{solde}" id="solde" class="form-control"
								required>
							<div class="invalid-feedback">Veuillez entrer le solde.</div>
						</div>

						<div id="existingClientFields" class="mb-3">
							<label for="clientCin" class="form-label">CIN du Client</label>
							<input type="text" id="clientCin" class="form-control" required>
							<input type="hidden" name="clientCin" id="clientCinHidden">
						</div>

						<div class="d-flex justify-content-start gap-2">
							<button type="submit" class="btn btn-warning">
								<i class="bi bi-save"></i> Enregistrer
							</button>
							<a th:href="@{/comptes/all}" class="btn btn-secondary">
								<i class="bi bi-x-circle"></i> Annuler
							</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<div layout:fragment="scripts">
		<script th:src="@{/js/jquery-3.7.0.min.js}"></script>
		<script th:src="@{/js/jquery-ui.min.js}"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script th:src="@{/js/sweetalert2@11.js}"></script>
		<script th:src="@{/js/compte.js}"></script>
	</div>

</body>

</html>
